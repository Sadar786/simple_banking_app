{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductList(){const[products,setProducts]=useState([]);useEffect(()=>{getproducts();},[]);const getproducts=async()=>{let result=await fetch('http://localhost:5000/product',{headers:{authorization:\"bearer \".concat(JSON.parse(localStorage.getItem('token')))}});result=await result.json();setProducts(result);};const deleteCustomer=async id=>{console.log(id);let response=await fetch(\"http://localhost:5000/delProduct/\".concat(id),{method:\"Delete\",headers:{authorization:\"bearer \".concat(JSON.parse(localStorage.getItem('token')))}});if(response.ok){try{getproducts();let result=await response.json();console.log(result);}catch(error){// Handle the case where the response is not valid JSON\nconsole.error(\"Invalid JSON response:\",error);}}else{// Handle non-successful responses (e.g., error handling)\nconsole.error(\"Request failed with status:\",response.status);}};const searchHandle=async event=>{let key=event.target.value;if(key){let result=await fetch(\"http://localhost:5000/search/\".concat(key),{headers:{authorization:\"bearer \".concat(JSON.parse(localStorage.getItem('token')))}});result=await result.json();if(result){setProducts(result);}}else{getproducts();}};return/*#__PURE__*/_jsx(\"div\",{className:\"product\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"product_list\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{paddingTop:'30px'},children:\"List Of Accounts\"}),/*#__PURE__*/_jsx(\"input\",{className:\"search_bar\",type:\"text\",placeholder:\"Search Account\",onChange:searchHandle}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"S:NO\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Balance\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Send Money\"})]}),products.length>0?products.map((item,index)=>/*#__PURE__*/_jsxs(\"ul\",{className:\"item-box\",children:[/*#__PURE__*/_jsx(\"li\",{children:index+1}),/*#__PURE__*/_jsx(\"li\",{children:item.name}),/*#__PURE__*/_jsxs(\"li\",{children:[\"$\",item.price]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/updates/\"+item._id,children:\"Select\"})})]},item._id)):/*#__PURE__*/_jsx(\"h1\",{children:\"Account Not Found!\"})]})});}","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","ProductList","products","setProducts","getproducts","result","fetch","headers","authorization","concat","JSON","parse","localStorage","getItem","json","deleteCustomer","id","console","log","response","method","ok","error","status","searchHandle","event","key","target","value","className","children","style","paddingTop","type","placeholder","onChange","length","map","item","index","name","price","to","_id"],"sources":["C:/Users/SAMSUNG/OneDrive/Desktop/Spark_banking/Basic_banking_Web-App/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nexport default function ProductList() {\r\n\r\n  const [products, setProducts] = useState([])\r\n\r\n  useEffect(() => {\r\n    getproducts();\r\n  }, [])\r\n  const getproducts = async () => {\r\n    let result = await fetch('http://localhost:5000/product',\r\n      {\r\n        headers: {\r\n          authorization: `bearer ${JSON.parse(localStorage.getItem('token'))}`\r\n        }\r\n      });\r\n    result = await result.json();\r\n    setProducts(result)\r\n  }\r\n\r\n  const deleteCustomer = async (id) => {\r\n    console.log(id);\r\n    let response = await fetch(`http://localhost:5000/delProduct/${id}`, {\r\n      method: \"Delete\",\r\n        headers: {\r\n          authorization: `bearer ${JSON.parse(localStorage.getItem('token'))}`\r\n        }\r\n      }\r\n    );\r\n\r\n    if (response.ok) {\r\n      try {\r\n        getproducts();\r\n        let result = await response.json();\r\n        console.log(result);\r\n      } catch (error) {\r\n        // Handle the case where the response is not valid JSON\r\n        console.error(\"Invalid JSON response:\", error);\r\n      }\r\n    } else {\r\n      // Handle non-successful responses (e.g., error handling)\r\n      console.error(\"Request failed with status:\", response.status);\r\n    }\r\n  }\r\n\r\n  const searchHandle = async (event) => {\r\n    let key = event.target.value\r\n    if (key) {\r\n      let result = await fetch(`http://localhost:5000/search/${key}`,\r\n      {\r\n        headers:{\r\n          authorization: `bearer ${JSON.parse(localStorage.getItem('token'))}`\r\n        }\r\n      }\r\n      );\r\n      result = await result.json();\r\n      if (result) {\r\n        setProducts(result);\r\n      }\r\n    } else {\r\n      getproducts();\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"product\">\r\n      <div className='product_list'>\r\n        <h3 style={{ paddingTop: '30px' }}>List Of Accounts</h3>\r\n        <input className='search_bar' type='text' placeholder='Search Account' onChange={searchHandle} />\r\n        <ul >\r\n          <li>S:NO</li>\r\n          <li>Name</li>\r\n          <li>Balance</li>\r\n           <li>Send Money</li>\r\n        </ul>\r\n\r\n        {\r\n          products.length > 0 ? products.map((item, index) =>\r\n            <ul key={item._id} className='item-box'>\r\n              <li>{index + 1}</li>\r\n              <li>{item.name}</li>\r\n              <li>${item.price}</li>\r\n              <li>\r\n                <Link to={\"/updates/\" + item._id}>Select</Link></li>\r\n            </ul>\r\n          ) : <h1>Account Not Found!</h1>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACxC,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CAEpC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACdS,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAAC,KAAK,CAAC,+BAA+B,CACtD,CACEC,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACpE,CACF,CAAC,CAAC,CACJR,MAAM,CAAG,KAAM,CAAAA,MAAM,CAACS,IAAI,CAAC,CAAC,CAC5BX,WAAW,CAACE,MAAM,CAAC,CACrB,CAAC,CAED,KAAM,CAAAU,cAAc,CAAG,KAAO,CAAAC,EAAE,EAAK,CACnCC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC,CACf,GAAI,CAAAG,QAAQ,CAAG,KAAM,CAAAb,KAAK,qCAAAG,MAAA,CAAqCO,EAAE,EAAI,CACnEI,MAAM,CAAE,QAAQ,CACdb,OAAO,CAAE,CACPC,aAAa,WAAAC,MAAA,CAAYC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACpE,CACF,CACF,CAAC,CAED,GAAIM,QAAQ,CAACE,EAAE,CAAE,CACf,GAAI,CACFjB,WAAW,CAAC,CAAC,CACb,GAAI,CAAAC,MAAM,CAAG,KAAM,CAAAc,QAAQ,CAACL,IAAI,CAAC,CAAC,CAClCG,OAAO,CAACC,GAAG,CAACb,MAAM,CAAC,CACrB,CAAE,MAAOiB,KAAK,CAAE,CACd;AACAL,OAAO,CAACK,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,IAAM,CACL;AACAL,OAAO,CAACK,KAAK,CAAC,6BAA6B,CAAEH,QAAQ,CAACI,MAAM,CAAC,CAC/D,CACF,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACpC,GAAI,CAAAC,GAAG,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CAC5B,GAAIF,GAAG,CAAE,CACP,GAAI,CAAArB,MAAM,CAAG,KAAM,CAAAC,KAAK,iCAAAG,MAAA,CAAiCiB,GAAG,EAC5D,CACEnB,OAAO,CAAC,CACNC,aAAa,WAAAC,MAAA,CAAYC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CACpE,CACF,CACA,CAAC,CACDR,MAAM,CAAG,KAAM,CAAAA,MAAM,CAACS,IAAI,CAAC,CAAC,CAC5B,GAAIT,MAAM,CAAE,CACVF,WAAW,CAACE,MAAM,CAAC,CACrB,CACF,CAAC,IAAM,CACLD,WAAW,CAAC,CAAC,CACf,CAEF,CAAC,CAED,mBACEN,IAAA,QAAK+B,SAAS,CAAC,SAAS,CAAAC,QAAA,cACtB9B,KAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BhC,IAAA,OAAIiC,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAF,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACxDhC,IAAA,UAAO+B,SAAS,CAAC,YAAY,CAACI,IAAI,CAAC,MAAM,CAACC,WAAW,CAAC,gBAAgB,CAACC,QAAQ,CAAEX,YAAa,CAAE,CAAC,cACjGxB,KAAA,OAAA8B,QAAA,eACEhC,IAAA,OAAAgC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbhC,IAAA,OAAAgC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbhC,IAAA,OAAAgC,QAAA,CAAI,SAAO,CAAI,CAAC,cACfhC,IAAA,OAAAgC,QAAA,CAAI,YAAU,CAAI,CAAC,EAClB,CAAC,CAGH5B,QAAQ,CAACkC,MAAM,CAAG,CAAC,CAAGlC,QAAQ,CAACmC,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBAC7CvC,KAAA,OAAmB6B,SAAS,CAAC,UAAU,CAAAC,QAAA,eACrChC,IAAA,OAAAgC,QAAA,CAAKS,KAAK,CAAG,CAAC,CAAK,CAAC,cACpBzC,IAAA,OAAAgC,QAAA,CAAKQ,IAAI,CAACE,IAAI,CAAK,CAAC,cACpBxC,KAAA,OAAA8B,QAAA,EAAI,GAAC,CAACQ,IAAI,CAACG,KAAK,EAAK,CAAC,cACtB3C,IAAA,OAAAgC,QAAA,cACEhC,IAAA,CAACF,IAAI,EAAC8C,EAAE,CAAE,WAAW,CAAGJ,IAAI,CAACK,GAAI,CAAAb,QAAA,CAAC,QAAM,CAAM,CAAC,CAAI,CAAC,GAL/CQ,IAAI,CAACK,GAMV,CACN,CAAC,cAAG7C,IAAA,OAAAgC,QAAA,CAAI,oBAAkB,CAAI,CAAC,EAE9B,CAAC,CACH,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}