{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignUp=()=>{const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[money,setMoney]=useState(0);const Navigate=useNavigate();const auth=localStorage.getItem('user');const[emailPresentMsg,setEmailPresentMsg]=useState('');useEffect(()=>{if(auth){Navigate('/');}});const collectData=async()=>{try{let result=await fetch('http://localhost:5000/register',{method:'POST',body:JSON.stringify({name,email,password,money}),headers:{'Content-Type':'application/json'}});result=await result.json();console.log(result);if(result.auth){// Check for 'auth' in the response\nlocalStorage.setItem(\"user\",JSON.stringify(result.result));// Store 'result' instead of 'result.user'\nlocalStorage.setItem(\"token\",JSON.stringify(result.auth));Navigate('/');}else{alert(\"Registration failed\");// Handle the case when registration fails\n}}catch(error){setEmailPresentMsg('Email is used! login OR try by another Email');console.error(\"An error occurred:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"signUp\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"inputBox\",children:\"Register\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"addMore\",children:emailPresentMsg}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",type:\"text\",placeholder:\"Enter Name\",value:name,required:true,onChange:e=>setName(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",type:\"text\",placeholder:\"Enter Email\",value:email,required:true,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",type:\"password\",placeholder:\"Enter Password\",value:password,required:true,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{className:\"inputBox\",type:\"Number\",placeholder:\"Enter your money (Optional)\",value:money,onChange:e=>setMoney(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"signUp-btn\",onClick:()=>collectData(),children:\"Sign Up\"})]});};export default SignUp;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","SignUp","name","setName","email","setEmail","password","setPassword","money","setMoney","Navigate","auth","localStorage","getItem","emailPresentMsg","setEmailPresentMsg","collectData","result","fetch","method","body","JSON","stringify","headers","json","console","log","setItem","alert","error","className","children","type","placeholder","value","required","onChange","e","target","onClick"],"sources":["C:/Users/SAMSUNG/OneDrive/Desktop/Spark_banking/Basic_banking_Web-App/frontend/src/components/SignUp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\n import { useNavigate } from 'react-router-dom';\r\n\r\nconst SignUp = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [money, setMoney] = useState(0);\r\n  const Navigate = useNavigate();\r\n   const auth = localStorage.getItem('user')\r\n   const [emailPresentMsg, setEmailPresentMsg] = useState('')\r\n  useEffect(()=>{\r\n    if(auth){\r\n      Navigate('/')\r\n    }\r\n  })\r\n\r\n  const collectData = async () => {\r\n    try {\r\n      let result = await fetch('http://localhost:5000/register', {\r\n        method: 'POST',\r\n        body: JSON.stringify({ name, email, password , money }),\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      result = await result.json();\r\n      console.log(result);\r\n      if (result.auth) { // Check for 'auth' in the response\r\n        localStorage.setItem(\"user\", JSON.stringify(result.result)); // Store 'result' instead of 'result.user'\r\n        localStorage.setItem(\"token\", JSON.stringify(result.auth));\r\n        Navigate('/');\r\n      } else {\r\n        alert(\"Registration failed\"); // Handle the case when registration fails\r\n      }\r\n    } catch (error) {\r\n      setEmailPresentMsg('Email is used! login OR try by another Email')\r\n      console.error(\"An error occurred:\", error);\r\n    }\r\n  }\r\n  \r\n  \r\n\r\n  return (\r\n    <div className='signUp'>\r\n      <h1 className='inputBox'>Register</h1>\r\n      <h3 className='addMore'>{emailPresentMsg}</h3>\r\n      <input className='inputBox' type='text' placeholder='Enter Name' value={name} required\r\n        onChange={(e) => setName(e.target.value)}></input>\r\n\r\n      <input className='inputBox' type='text' placeholder='Enter Email' value={email} required\r\n        onChange={(e) => setEmail(e.target.value)}></input>\r\n\r\n      <input className='inputBox' type='password' placeholder='Enter Password' value={password} required\r\n        onChange={(e) => setPassword(e.target.value)}></input>\r\n\r\n      <input className='inputBox' type='Number' placeholder='Enter your money (Optional)' value={money} \r\n        onChange={(e) => setMoney(e.target.value)}></input>\r\n      <button type='button' className='signUp-btn' onClick={()=>collectData()} >Sign Up</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}